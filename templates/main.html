<!DOCTYPE html>
{% extends 'base.html' %}
{% block body %}
  {% from "includes/formhelpers.html" import render_field,
  render_field_group %}

  <!-- ko foreach: errors -->
  <div class="float-message alert alert-dismissable" data-bind="css: 'alert-' + defcon_level">
    <a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a>
    <strong data-bind="text: message"></strong>
  </div>
  <!-- /ko -->
  <!-- Tab panes -->
  <div class="tab-content">
    <div role="tabpanel" class="tab-pane active" id="main_form">
      {% include 'includes/schema/form.html' %}
    </div>
    <div role="tabpanel" class="tab-pane" id="user_forms">
      {% include 'includes/other/user_forms.html' %}
    </div>
    <div role="tabpanel" class="tab-pane" id="company">
      {% include 'includes/other/company_forms.html' %}
    </div>
  </div>

  <div class="row">{% include 'includes/footer.html' %}</div>

{% endblock %}
{% block script %}
  {% from "includes/formhelpers.html" import render_field,
  render_field_group %}
  <script src="{{url_for('static', filename='js/main.js')}}"></script>
  {% include 'includes/schema/select_heating_cable_form.html' %}
  {% include 'includes/schema/room_form_template.html' %}
  {% include 'includes/schema/measurements.html' %}
  {% include 'includes/schema/calculations_template.html' %}
  <script type="text/javascript">
    $.ajaxSetup({
      beforeSend: function (xhr, settings) {
        var csrf_token = '{{ customerForm.csrf_token._value() }}'
        if (!/^(GET|HEAD|OPTIONS|TRACE)$/i.test(settings.type) && !this.crossDomain) {
          xhr.setRequestHeader("X-CSRFToken", csrf_token)
        }
      }
    })
  </script>
{% endblock %}
