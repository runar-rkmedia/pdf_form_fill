<!DOCTYPE html>

<!-- Customer -->

<h2 class="">Skjema</h2>
{% from "includes/formhelpers.html" import render_field,
render_field_group %}
{{ form.csrf_token }}

<div class="well col-xs-12">
  <form id="customer_form" autocomplete="off">
    {{ customerForm.csrf_token }}
    {{ customerForm.address.csrf_token }}
    <legend>Kundeinformasjon</legend>
    <div class="fieldset">
      {{ render_field(customerForm.address.address1, 'form-group, col-xs-12', **{'data-bind':" value: customer().address1, typeahead: autocompleteAddress, templateName: 'suggestion-template', displayKey: 'street_name', onSelectFunction: suggestionOnSelect
      "}) }}
      {{ render_field(customerForm.address.address2, 'form-group, col-xs-12', no_label=True, **{'data-bind':" textInput: customer().address2 "}) }}
      {{ render_field(customerForm.address.post_code, 'form-group
  col-xs-4 col-sm-2', **{'data-bind':" textInput: customer().post_code"}) }}
      {{ render_field(customerForm.address.post_area,'form-group col-xs-8 col-sm-10' , **{'data-bind': "textInput: customer().post_area", 'readonly':'readonly'}) }}
      <div class="col-xs-12">
        <button type="button" class="btn btn-primary pull-right" data-bind="click: post_customer_form, css: {opaque: validation_errors().length > 0}" data-loading-text="<span class='glyphicon glyphicon-refresh spinning'></span>">
          <span data-bind="text: customer_id() ? 'Endre' : 'Lagre'"></span>
        </button>
      </div>
    </div>
  </form>
</div>
<!-- Room -->
<!-- ko if: rooms -->
<h4 class="">
  Rom/stedsinformasjon
</h4>
<!-- List of rooms -->
<div class="panel-group col-xs-12" id="accordion-room" role="tablist" aria-multiselectable="true">
  <!-- ko template: { name: 'room-accordian', data: rooms().list} -->
  <!-- /ko -->

</div>
<!-- Room form -->
<!-- /ko -->
<!-- ko if: customer_id -->
<button type="button" class="btn btn-primary pull-right" data-bind="click: rooms().add">Legg til rom</button>
<!-- /ko -->
<!-- /ko -->
