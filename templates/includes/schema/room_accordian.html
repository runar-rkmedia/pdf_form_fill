<!DOCTYPE html>
<script type="text/html" id="room-accordian">
  <div class="panel-group" id="accordion-room" role="tablist" aria-multiselectable="true">
    <!-- ko foreach: $data -->
    <div class="panel" data-bind="css: {'panel-primary': !modified(), 'panel-warning': modified()}">
      <div class="panel-heading collapsed" data-parent="#accordion-room" data-toggle="collapse" data-bind="attr: { 'data-target': '#room' + id(), 'href': '#room' + id()}">
        <h3 class="panel-title carrot">

          <span data-bind="if: !name()">Nytt rom/sted</span>
          <span data-bind="text: name"></span>
          <span class="opaquelight"><!-- ko if: area && heated_area -->&ensp;&mdash;&ensp;<!-- /ko -->
            <!-- ko if: area -->
            <span data-bind="text: area() + '&nbsp;m²'"></span>
            <!-- /ko -->
            <!-- ko if: heated_area -->
            <span data-bind="text:'(' +  heated_area() + '&nbsp;m²)'"></span>
            <!-- /ko -->
            <!-- ko if: room_effect -->
            <span class="" data-bind="text:'&ensp;&mdash;&ensp;' +  room_effect() + '&nbsp;W'"></span>
            <!-- /ko -->
          </span>
          <!-- ko if: modified -->
          <b>Ikke lagret</b>
          <!-- /ko -->

        </h3>
      </div>
      <div class="panel-collapse collapse in" data-bind="
    attr: {'id': 'room' + id()}
    " role="tabpanel">
        <div class="panel-body">
          <!-- ko if: id() >= 0 -->
          <button class="btn btn-primary" type="button" data-toggle="collapse" aria-expanded="false" data-bind="attr: { 'data-target': '#room-form' + id(), 'aria-controls': '#room-form' + id()}">Endre info</button>
          <button type="button" class="btn btn-info" data-bind="click: function (d, e){heating_cables().add(e)}">Legg til varmekabel</button>
          <!-- /ko -->
          <div class="col-xs-12 well collapse" data-bind="attr: { 'id': 'room-form' + id()}">
            <!-- ko template: { name: 'room_form_template', data: $data} -->
            <!-- /ko -->
            <!-- ko if: bestFitEffect() -->
            <div data-bind="text: 'Ideell effekt: ' + bestFitEffect().toFixed(0) + 'W'"></div>
            <!-- /ko -->
          </div>
          <div class="select_products" data-bind="if: id() >= 0">
            <h4>Varmekabler</h4>
            <!-- ko if: heating_cables().list() -->
            <!-- ko template: {name: 'heating_cable_template', data: heating_cables().list} -->
            <!-- /ko -->

            <!-- /ko -->
            <!-- ko ifnot: heating_cables().list().length -->
            <div class="well well-sm
">Ingen varmekabler lagt til enda. Du kan legge til en ved å trykke på knappen ovenfor.</div>
            <hr>
            <!-- /ko -->

          </div>
        </div>
      </div>
    </div>
    <!-- /ko -->
  </div>
</script>
